# BrickGame (Тетрис)

## Введение
BrickGame v1.0 — это консольная игра Тетрис, разработанная на C с использованием библиотеки ncurses. Она предлагает классический игровой процесс Тетриса с дополнительными механиками, такими как подсчет очков, прогресс уровней и отслеживание рекордов.

Проект состоит из двух частей для реализации игры Тетрис: библиотеки, реализующей логику игры и терминального интерфейса. Логика библиотеки реализована с использованием конечного автомата.

![Игра](/src/dvi/game.png)

## Особенности
1. Классический игровой процесс Тетриса с следующими механиками:
- Поворот тетромино (фигуры)
- Горизонтальное движение тетромино
- Ускоренное падение тетромино (при удерживании клавиши вниз)
- Отображение следующего тетромино
- Удаление линий
- Конец игры, когда тетромино достигает верхней части игрового поля
2. Поддержка всех физических кнопок на консоли:
- Начать новую игру — Enter
- Пауза — 'p'
- Завершить игру — 'q'
- Движение влево — левая стрелка
- Движение вправо — правая стрелка
- Движение вниз — стрелка вниз
- Поворот — Пробел
3. Игровое поле на основе матрицы с размерами, соответствующими размеру консоли (10x20 пикселей)
4. Корректная остановка тетромино после достижения дна или столкновения с другим тетромино
5. Модульные тесты для библиотеки логики игры с охватом кода не менее 90%
6. Дополнительные механики

## Подсчет очков
1 линия очищена: 100 очков
2 линии очищены: 300 очков
3 линии очищены: 700 очков
4 линии очищены: 1500 очков

## Отслеживание рекорда
Отображение текущего счета игрока и достигнутого рекорда
Рекорд сохраняется в файле и сохраняется между игровыми сессиями

## Прогрессия уровней
Прогрессия уровней каждые 600 очков
Повышение уровня увеличивает скорость падения тетромино
Установка

## Клонируйте репозиторий.
* Перейдите в директорию src/.
* Чтобы установить проект, выполните команду ``` make install ```
* Чтобы начать игру, выполните команду ``` make run ```

## Использование
Используйте стрелки для перемещения и поворота тетромино.
Нажмите стрелку вниз, чтобы заставить тетромино падать быстрее.
Нажмите стрелку вверх, чтобы повернуть тетромино.
## Диаграмма конечного автомата (FSM)

Диаграмма, показывающая конечный автомат, используемый в логике игры. 

![Диаграмма](/src/dvi/fsm.png "Диаграмма")

## Деинсталляция
Перейдите в директорию src/.
Чтобы удалить проект, выполните команду ``` make uninstall ```
Цели Makefile:

## Дополнительно
* dvi
Создает и открывает документацию проекта (с использованием Doxygen).
* dist
Генерирует дистрибутив .tgz с исполняемым файлом и необходимой документацией.
* test
Запускает тестирование модулей калькулятора и его контроллера. Отчет можно просмотреть в папке /tests/logs.
* gcov_report
Генерирует html-отчет, отображающий покрытие всех функций тестами.
